name: vprofile actions
on: workflow_dispatch

jobs:
    BUILD_AND_PUBLISH:
     runs-on: ubuntu-latest
     steps:
       - name: Code checkout
         uses: actions/checkout@v4

       - name: üõ†Ô∏è Set up QEMU (cho multi-platform builds)
         uses: docker/setup-qemu-action@v3

       - name: üèóÔ∏è Set up Docker Buildx (c√¥ng c·ª• build m·∫°nh m·∫Ω)
         uses: docker/setup-buildx-action@v3
        
       - name: üîë Log in to Docker Hub
         uses: docker/login-action@v3
         with:
           username: ${{ secrets.DOCKER_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}

      #  - name: Build and Push vprofileapp
      #    uses: docker/build-push-action@v6
      #    with:
      #      context: .              
      #      file: Dockerfile        
      #      push: true
      #      tags: ${{ secrets.DOCKER_USERNAME }}/vprofileapp:latest

       - name: Build and Push vprofiledb
         uses: docker/build-push-action@v6
         with:
           context: ./container/db/             
           file: Dockerfile        
           push: true
           tags: ${{ secrets.DOCKER_USERNAME }}/vprofiledb:latest